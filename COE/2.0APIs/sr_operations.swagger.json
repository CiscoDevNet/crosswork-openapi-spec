{
  "swagger": "2.0",
  "info": {
    "title": "Segment Routing Policy Operations",
    "description": "Operations to Create, Update, Preview and Delete SR Policies in Crosswork Optimization Engine.",
    "version": "2019-08-30T00:00:00.000Z",
    "contact": {
      "name": "Crosswork Team, Cisco",
      "email": "support@cisco.com"
    },
    "license": {
      "name": "Cisco Software License Agreement",
      "url": "http://www.cisco.com/public/sw-license-agreement.html"
    }
  },
  "tags": [{
    "name": "operations",
    "description": "Create, Update, Preview and Delete operations for SR Policies"
  }],
  "paths": {
    "/operations/cisco-crosswork-optimization-engine-sr-policy-operations:sr-policy-create": {
      "post": {
        "tags": [
          "operations"
        ],
        "summary": "",
        "description": "Create operation for SR policies",
        "operationId": "operations_cisco_crosswork_optimization_engine_sr_policy_operations_sr_policy_create_post",
        "requestBody": {
          "content": {
            "application/yang-data+json": {
              "schema": {
                "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-create-post-input"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-create-post-output"
                }
              }
            }
          },
          "204": {
            "$ref": "#/components/responses/204"
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "405": {
            "$ref": "#/components/responses/405"
          },
          "409": {
            "$ref": "#/components/responses/409"
          }
        },
        "security": [{
          "basicAuth": []
        }]
      }
    },
    "/operations/cisco-crosswork-optimization-engine-sr-policy-operations:sr-policy-modify": {
      "post": {
        "tags": [
          "operations"
        ],
        "summary": "",
        "description": "Update operation for SR policies",
        "operationId": "operations_cisco_crosswork_optimization_engine_sr_policy_operations_sr_policy_modify_post",
        "requestBody": {
          "content": {
            "application/yang-data+json": {
              "schema": {
                "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-modify-post-input"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-modify-post-output"
                }
              }
            }
          },
          "204": {
            "$ref": "#/components/responses/204"
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "405": {
            "$ref": "#/components/responses/405"
          },
          "409": {
            "$ref": "#/components/responses/409"
          }
        },
        "security": [{
          "basicAuth": []
        }]
      }
    },
    "/operations/cisco-crosswork-optimization-engine-sr-policy-operations:sr-policy-delete": {
      "post": {
        "tags": [
          "operations"
        ],
        "summary": "",
        "description": "Delete operation for SR policies",
        "operationId": "operations_cisco_crosswork_optimization_engine_sr_policy_operations_sr_policy_delete_post",
        "requestBody": {
          "content": {
            "application/yang-data+json": {
              "schema": {
                "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-delete-post-input"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-delete-post-output"
                }
              }
            }
          },
          "204": {
            "$ref": "#/components/responses/204"
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "405": {
            "$ref": "#/components/responses/405"
          },
          "409": {
            "$ref": "#/components/responses/409"
          }
        },
        "security": [{
          "basicAuth": []
        }]
      }
    },
    "/operations/cisco-crosswork-optimization-engine-sr-policy-operations:sr-policy-dryrun": {
      "post": {
        "tags": [
          "operations"
        ],
        "summary": "",
        "description": "Preview operation for SR policies",
        "operationId": "operations_cisco_crosswork_optimization_engine_sr_policy_operations_sr_policy_dryrun_post",
        "requestBody": {
          "content": {
            "application/yang-data+json": {
              "schema": {
                "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-dryrun-post-input"
              }
            }
          },
          "required": true
        },
        "responses": {
          "201": {
            "description": "Created",
            "content": {
              "application/yang-data+json": {
                "schema": {
                  "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-dryrun-post-output"
                }
              }
            }
          },
          "204": {
            "$ref": "#/components/responses/204"
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "401": {
            "$ref": "#/components/responses/401"
          },
          "404": {
            "$ref": "#/components/responses/404"
          },
          "405": {
            "$ref": "#/components/responses/405"
          },
          "409": {
            "$ref": "#/components/responses/409"
          }
        },
        "security": [{
          "basicAuth": []
        }]
      }
    }
  },
  "servers": [{
    "url": "/crosswork/nbi/optima/v1/restconf"
  }],
  "components": {
    "responses": {
      "200": {
        "description": "OK"
      },
      "201": {
        "description": "Created"
      },
      "204": {
        "description": "No Content"
      },
      "400": {
        "description": "Bad Request"
      },
      "401": {
        "description": "Unauthorized"
      },
      "404": {
        "description": "Not Found"
      },
      "405": {
        "description": "Method Not Allowed"
      },
      "409": {
        "description": "Conflict"
      }
    },
    "securitySchemes": {
      "basicAuth": {
        "type": "http",
        "scheme": "basic"
      }
    },
    "schemas": {
      "operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-modify-post-output": {
        "type": "object",
        "properties": {
          "cisco-crosswork-optimization-engine-sr-policy-operations:output": {
            "type": "object",
            "properties": {
              "results": {
                "type": "array",
                "description": "(list)",
                "items": {
                  "type": "object",
                  "properties": {
                    "head-end": {
                      "description": "The IP address of the SR policy source (leaf)",
                      "type": "string",
                      "format": "union"
                    },
                    "end-point": {
                      "description": "The IP address of the SR policy destination (leaf)",
                      "type": "string",
                      "format": "union"
                    },
                    "color": {
                      "description": "The color for the SR policy (leaf)",
                      "type": "integer",
                      "format": "uint32"
                    },
                    "state": {
                      "description": "The result for a policy create, update or delete operation (leaf)",
                      "type": "string",
                      "format": "enumeration",
                      "default": "success",
                      "enum": [
                        "success",
                        "failure",
                        "degraded"
                      ]
                    },
                    "message": {
                      "description": "The details of state above, for failure and degraded (leaf)",
                      "type": "string",
                      "format": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-modify-post-input": {
        "type": "object",
        "properties": {
          "input": {
            "type": "object",
            "properties": {
              "sr-policies": {
                "type": "array",
                "description": "(list)",
                "items": {
                  "type": "object",
                  "properties": {
                    "head-end": {
                      "description": "The IP address of the SR policy source (leaf)",
                      "type": "string",
                      "format": "union"
                    },
                    "end-point": {
                      "description": "The IP address of the SR policy destination (leaf)",
                      "type": "string",
                      "format": "union"
                    },
                    "color": {
                      "description": "The color for the SR policy (leaf)",
                      "type": "integer",
                      "format": "uint32"
                    },
                    "path-name": {
                      "description": "The path name of the SR policy (leaf)",
                      "type": "string",
                      "format": "string"
                    },
                    "description": {
                      "description": "The description of the SR policy (leaf)",
                      "type": "string",
                      "format": "string"
                    },
                    "binding-sid": {
                      "description": "The binding SID for the SR policy (leaf)",
                      "type": "integer",
                      "format": "uint32"
                    },
                    "profile-id": {
                      "description": "The profile ID for the SR policy (leaf)",
                      "type": "integer",
                      "format": "uint32"
                    },
                    "sr-policy-path": {
                      "description": "(non-presence)",
                      "type": "object",
                      "oneOf": [{
                          "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-path_explicit"
                        },
                        {
                          "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-path_dynamic"
                        },
                        {
                          "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-path_bwod"
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      },
      "operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-dryrun-post-output": {
        "type": "object",
        "properties": {
          "cisco-crosswork-optimization-engine-sr-policy-operations:output": {
            "type": "object",
            "properties": {
              "state": {
                "description": "The result for the policy preview operation (leaf)",
                "type": "string",
                "format": "enumeration",
                "default": "success",
                "enum": [
                  "success",
                  "failure",
                  "degraded"
                ]
              },
              "message": {
                "description": "The details of state above, for failure or degraded (leaf)",
                "type": "string",
                "format": "string"
              },
              "igp-route": {
                "type": "array",
                "description": "(list)",
                "items": {
                  "type": "object",
                  "properties": {
                    "node": {
                      "description": "The hostname of the source-node for the interface (leaf)",
                      "type": "string",
                      "format": "string"
                    },
                    "interface": {
                      "description": "The name of the interface (leaf)",
                      "type": "string",
                      "format": "string"
                    }
                  }
                }
              },
              "segment-list-hops": {
                "type": "array",
                "description": "(list)",
                "items": {
                  "type": "object",
                  "properties": {
                    "step": {
                      "description": "The representation of the hop order in the path (leaf)",
                      "type": "integer",
                      "format": "uint32"
                    },
                    "sid": {
                      "description": "The segment identifier for the hop (leaf)",
                      "type": "integer",
                      "format": "uint32"
                    },
                    "ip-address": {
                      "description": "The IP address of the hop (leaf)",
                      "type": "string",
                      "format": "union"
                    },
                    "type": {
                      "description": "The type of the hop (leaf)",
                      "type": "string",
                      "format": "enumeration",
                      "default": "node-ipv4",
                      "enum": [
                        "node-ipv4",
                        "adjacency-ipv4",
                        "node-ipv6",
                        "adjacency-ipv6",
                        "unknown"
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      },
      "operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-dryrun-post-input": {
        "type": "object",
        "properties": {
          "input": {
            "type": "object",
            "properties": {
              "head-end": {
                "description": "The IP address of the SR policy source (leaf)",
                "type": "string",
                "format": "union"
              },
              "end-point": {
                "description": "The IP address of the SR policy destination (leaf)",
                "type": "string",
                "format": "union"
              },
              "sr-policy-path": {
                "description": "(non-presence)",
                "type": "object",
                "oneOf": [{
                    "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-path_explicit"
                  },
                  {
                    "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-path_dynamic"
                  },
                  {
                    "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-path_bwod"
                  }
                ]
              }
            }
          }
        }
      },
      "operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-delete-post-output": {
        "type": "object",
        "properties": {
          "cisco-crosswork-optimization-engine-sr-policy-operations:output": {
            "type": "object",
            "properties": {
              "results": {
                "type": "array",
                "description": "(list)",
                "items": {
                  "type": "object",
                  "properties": {
                    "head-end": {
                      "description": "The IP address of the SR policy source (leaf)",
                      "type": "string",
                      "format": "union"
                    },
                    "end-point": {
                      "description": "The IP address of the SR policy destination (leaf)",
                      "type": "string",
                      "format": "union"
                    },
                    "color": {
                      "description": "The color for the SR policy (leaf)",
                      "type": "integer",
                      "format": "uint32"
                    },
                    "state": {
                      "description": "The result for a policy create, update or delete operation (leaf)",
                      "type": "string",
                      "format": "enumeration",
                      "default": "success",
                      "enum": [
                        "success",
                        "failure",
                        "degraded"
                      ]
                    },
                    "message": {
                      "description": "The details of state above, for failure and degraded (leaf)",
                      "type": "string",
                      "format": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-delete-post-input": {
        "type": "object",
        "properties": {
          "input": {
            "type": "object",
            "properties": {
              "sr-policies": {
                "type": "array",
                "description": "(list)",
                "items": {
                  "type": "object",
                  "properties": {
                    "head-end": {
                      "description": "The IP address of the SR policy source (leaf)",
                      "type": "string",
                      "format": "union"
                    },
                    "end-point": {
                      "description": "The IP address of the SR policy destination (leaf)",
                      "type": "string",
                      "format": "union"
                    },
                    "color": {
                      "description": "The color for the SR policy (leaf)",
                      "type": "integer",
                      "format": "uint32"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-create-post-output": {
        "type": "object",
        "properties": {
          "cisco-crosswork-optimization-engine-sr-policy-operations:output": {
            "type": "object",
            "properties": {
              "results": {
                "type": "array",
                "description": "(list)",
                "items": {
                  "type": "object",
                  "properties": {
                    "head-end": {
                      "description": "The IP address of the SR policy source (leaf)",
                      "type": "string",
                      "format": "union"
                    },
                    "end-point": {
                      "description": "The IP address of the SR policy destination (leaf)",
                      "type": "string",
                      "format": "union"
                    },
                    "color": {
                      "description": "The color for the SR policy (leaf)",
                      "type": "integer",
                      "format": "uint32"
                    },
                    "state": {
                      "description": "The result for a policy create, update or delete operation (leaf)",
                      "type": "string",
                      "format": "enumeration",
                      "default": "success",
                      "enum": [
                        "success",
                        "failure",
                        "degraded"
                      ]
                    },
                    "message": {
                      "description": "The details of state above, for failure and degraded (leaf)",
                      "type": "string",
                      "format": "string"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-create-post-input": {
        "type": "object",
        "properties": {
          "input": {
            "type": "object",
            "properties": {
              "sr-policies": {
                "type": "array",
                "description": "(list)",
                "items": {
                  "type": "object",
                  "properties": {
                    "head-end": {
                      "description": "The IP address of the SR policy source (leaf)",
                      "type": "string",
                      "format": "union"
                    },
                    "end-point": {
                      "description": "The IP address of the SR policy destination (leaf)",
                      "type": "string",
                      "format": "union"
                    },
                    "color": {
                      "description": "The color for the SR policy (leaf)",
                      "type": "integer",
                      "format": "uint32"
                    },
                    "path-name": {
                      "description": "The path name of the SR policy (leaf)",
                      "type": "string",
                      "format": "string"
                    },
                    "description": {
                      "description": "The description of the SR policy (leaf)",
                      "type": "string",
                      "format": "string"
                    },
                    "binding-sid": {
                      "description": "The binding SID for the SR policy (leaf)",
                      "type": "integer",
                      "format": "uint32"
                    },
                    "profile-id": {
                      "description": "The profile ID for the SR policy (leaf)",
                      "type": "integer",
                      "format": "uint32"
                    },
                    "sr-policy-path": {
                      "description": "(non-presence)",
                      "type": "object",
                      "oneOf": [{
                          "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-path_explicit"
                        },
                        {
                          "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-path_dynamic"
                        },
                        {
                          "$ref": "#/components/schemas/operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-path_bwod"
                        }
                      ]
                    }
                  }
                }
              }
            }
          }
        }
      },
      "operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-path_explicit": {
        "description": "Parameters specific to an Explicit SR policy path",
        "type": "object",
        "properties": {
          "hops": {
            "type": "array",
            "description": "(list)",
            "items": {
              "type": "object",
              "properties": {
                "step": {
                  "description": "The representation of the hop order in the path (leaf)",
                  "type": "integer",
                  "format": "uint32"
                },
                "hop": {
                  "description": "(non-presence)",
                  "type": "object",
                  "properties": {
                    "node-ipv4-sid": {
                      "description": "The IPv4 node segment identifier (leaf)",
                      "type": "integer",
                      "format": "uint32"
                    },
                    "node-ipv4-address": {
                      "description": "The IPv4 node address (leaf)",
                      "type": "string",
                      "format": "union"
                    }
                  }
                }
              }
            }
          }
        }
      },
      "operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-path_dynamic": {
        "description": "Parameters specific to a Dynamic SR policy path",
        "type": "object",
        "properties": {
          "affinities": {
            "description": "(non-presence)",
            "type": "object",
            "properties": {
              "include-any": {
                "description": "include-any affinity bits combined into an unsigned integer (leaf)",
                "type": "integer",
                "format": "uint32"
              },
              "include-all": {
                "description": "include-any affinity bits combined into an unsigned integer (leaf)",
                "type": "integer",
                "format": "uint32"
              },
              "exclude-any": {
                "description": "include-any affinity bits combined into an unsigned integer (leaf)",
                "type": "integer",
                "format": "uint32"
              }
            }
          },
          "disjointness": {
            "description": "(non-presence)",
            "type": "object",
            "properties": {
              "disjointness-type": {
                "description": "(leaf)",
                "type": "string",
                "format": "enumeration",
                "default": "node",
                "enum": [
                  "node",
                  "circuit",
                  "srlg",
                  "srlg-node"
                ]
              },
              "association-group": {
                "description": "Association group (leaf)",
                "type": "integer",
                "format": "uint32"
              },
              "association-sub-group": {
                "description": "Association sub-group (leaf)",
                "type": "integer",
                "format": "uint32"
              }
            }
          },
          "path-optimization-objective": {
            "description": "The objective to minimize, igp-metric, te-metric or delay (leaf)",
            "type": "string",
            "format": "enumeration",
            "default": "igp-metric",
            "enum": [
              "igp-metric",
              "te-metric",
              "delay",
              "hop-count"
            ]
          },
          "protected": {
            "description": "Use protected adjacency SIDs in path computation, defaults to true (leaf)",
            "type": "string",
            "format": "boolean"
          }
        }
      },
      "operations_cisco-crosswork-optimization-engine-sr-policy-operations_sr-policy-path_bwod": {
        "description": "Parameters specific to a BWOD SR policy path",
        "type": "object",
        "properties": {
          "bandwidth": {
            "description": "The desired bandwidth for the SR policy (leaf)",
            "type": "number",
            "format": "double"
          },
          "bw-path-optimization-objective": {
            "description": "The objective to minimize, igp-metric, te-metric or delay (leaf)",
            "type": "string",
            "format": "enumeration",
            "default": "igp-metric",
            "enum": [
              "igp-metric",
              "te-metric",
              "delay",
              "hop-count"
            ]
          }
        }
      }
    }
  }
}